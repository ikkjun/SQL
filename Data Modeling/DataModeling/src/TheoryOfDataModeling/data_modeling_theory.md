# 01. 데이터 모델링 이론
## 데이터 모델링이란
데이터 모델링은 업무에서 사용하는 각종 데이터를 포함해 업무 내용, 절차 등을 구축하고자 하는 시스템의 데이터베이스에 기록하여 지속적으로 관리하고 활용하기 위해 데이터를 구조화하고 형상화하는 과정이다.
일반적으로 ER모델(Entity-Relationship Model)을 통해 데이터 모델링을 수행하며, 관계형 모델과 관계형 데이터베이스를 통해 데이터를 저장하고 관리한다.

### ER 모델
ERD(Entity-Relationship Diagram)는 ER모델에서 사용하는 실체와 관계를 도식화한 것이다.

### ER 모델의 질적 특성
- 완전성
- 정확성
- 최소성
- 자명성
- 확장성
- 표현성
- 가독성

## ER 모델 구성 요소
ER 모델의 구성요소로는 엔티티(Entity), 관계(Relationship), 속성(Attribute)이 있다. 
속성과 관계 중 하나 이상의 조합으로 구성된 식별자(Identifier)를 포함한다.

### 엔티티
엔티티는 현실 세계에 실제로 존재하는 실체이거나, 조직, 서비스처럼 개념적인 것이다(≒ 클래스).

### 관계
관계는 관계수(cardinality), 선택성(optionality), 식별성(Identifier Inheritance), 관계명 등으로 구성된다.

|구성요소|DA#(Barker 표기)|ERwin(IE표기)|
|---|---|---|
|관계수|아무런 표시가 없으면 1, Crow's feet(<)이면 M|Bar(-)이면 1, Crow's feet(<)이면 M|
|선택성|점선이면 Optional, 실선이면 Mandatory)|Bar(-)이면 Mandatory, O이면 Optional|
|식별자 상속|Bar(-)가 있으면 식별자 상속, 없으면 비식별자 상속|실선이면 식별자 상속, 점선이면 비식별자 상속|

#### 관계수
일대일(1:1), 일대다(1:M), 다대다(M:N) 3가지 유형이 있다.
- 일대일 관계
  - 실제 일대일 관계는 많이 발생하지 않는다.
  - 예시
    - 직원과 인턴의 관계
      - 직원은 한 번의 인턴과정을 거쳐 채용될 수 있으며, 하나의 인턴과정은 하나의 직원과 관련이 있다.
    - 보안
    - 성능
- 일대다 관계
  - 하나의 부서에 직원 여러 명이 소속되어 있으며, 직원은 한 부서에 소속될 수 있다.
  - 관계를 볼 때는 한 쪽만 보면 안 되고, 양쪽을 봐야 한다.
- 다대다 관계
  - 데이터에 중복이 생기므로 바람직하지 못하므로, 나중에 관계를 해소해야 한다. 다만 join을 했을 때 발생하는 중복은 괜찮다.
  - 잘못된 것은 아니지만, 일단 표현을 하고 나중에 관계를 수정해야 한다.

#### 선택성(케이스 암기)
- 필수 - 필수 관계 </br> 상품을 선택하지 않고 주문을 하는 경우는 없으므로, 주문은 주문상품이 반드시 존재해야 한다. 반대로 주문상품도 주문이 반드시 존재해야 한다.
- 필수 - 선택 관계 </br> 주문하지 않은 고객은 있을 수 있으나, 주문은 반드시 주문한 고객이 있어야 한다.
- 선택 - 선택 관계 </br> 소개 사원으로 등록된 계좌가 존재하지 않을 수 있고, 고객이 펀드 상품에 가입할 때 소개 사원을 지정하지 않아도 되므로 계좌는 소개 사원이 존재하지 않을 수 있다. 

#### 식별자 상속
- 긴밀한 관계에서 식별자 상속이 일어난다.
- 고객주소 table은 고객 table의 일부이므로 고객의 키를 물려받으면서 PK가 상속된다. 주문 table은 고객 table과 관계가 깊지 않다.
## 관계형 데이터 모델 이론